= form_for maneuver_participant, id: 'score_form' do |f|
  = f.hidden_field :maneuver_id, value: maneuver.id
  = f.hidden_field :participant_id, value: participant.id
  - maneuver.grouped_obstacles.each do |(point_value, type), obstacles|
    .form-group
      = label_tag "#{point_value}-point #{type.pluralize} touched"
      = number_field_tag_with_buttons "obstacle_#{obstacles.first.id}", 0, in: 0..obstacles.count
  - maneuver.distance_targets.each do |target|
    .form-group
      = label_tag "#{target.interval_type} from #{target.name}"
      = number_field_tag_with_buttons "target_#{target.id}", target.minimum, min: 0
  .form-group
    - if maneuver.name.include? 'Reverse'
      = label_tag 'Extra reverses'
    - else
      = label_tag 'Reverses'
    = number_field_tag_with_buttons :reversed_direction, 0, min: 0
  - if maneuver.speed_target.present?
    .form-group.form-check
      = f.checkbox :speed_achieved, class: 'form-check-input'
      = f.label :speed_achieved, "Achieved #{maneuver.speed_target} mph", class: 'form-check-label'
  - if maneuver.counts_additional_stops?
    .form-group.form-check
      = f.checkbox :made_additional_stops, class: 'form-check-input'
      = f.label :made_additional_stops, 'Extra stops?', class: 'form-check-label'
  .form-group.form-check
    = f.checkbox :completed_as_designed, class: 'form-check-input'
    = f.label :completed_as_designed, 'Completed as designed?', class: 'form-check-label'
  = f.submit 'Save & next', class: 'btn btn-primary'
